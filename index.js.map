{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\"\nimport \"izitoast/dist/css/iziToast.min.css\"\nimport SimpleLightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\"\n\n// Pixabay API detayları\nconst API_KEY = '46156340-afe2d6dd24e461f249d973066' // API anahtarınız\nconst BASE_URL = 'https://pixabay.com/api/'\n\n// Modal ve Loader öğelerini güvenli bir şekilde al\nconst modal = document.getElementById('image-modal')\nconst modalImg = document.getElementById('modal-img')\nconst closeModal = document.getElementsByClassName('close')[0]\nconst loader = document.getElementById('loader') // Loader'ı al\nconst gallery = document.getElementById('gallery')\n\n// SimpleLightbox örneğini başlat\nlet lightbox = new SimpleLightbox('.gallery-item')\n\n// Modal öğelerinin varlığını kontrol edelim\nif (!modal || !modalImg || !closeModal || !loader) {\n  console.error(\"Modal veya loader öğeleri bulunamadı. Lütfen HTML yapınızı kontrol edin.\");\n}\n\n// Form gönderimi için event listener ekle\ndocument.getElementById('search-form').addEventListener('submit', function (event) {\n  event.preventDefault(); // Sayfanın yeniden yüklenmesini engeller\n  const query = document.getElementById('query').value.trim() // Arama terimi al\n\n  if (query) {\n    fetchImages(query) // Eğer arama terimi varsa API'den görüntüleri getir\n  } else {\n    iziToast.error({ message: \"Lütfen bir arama terimi girin!\" }) // Eğer boşsa uyarı ver\n  }\n})\n\n// API'den veri alma işlemi\nasync function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  loader.style.display = 'block' // Loader'ı göster\n\n  try {\n    const response = await fetch(url) // API'ye istek gönder\n    if (!response.ok) {\n      throw new Error(`API yanıtı başarısız oldu: ${response.status}`)\n    }\n\n    const data = await response.json() // Yanıtı JSON'a dönüştür\n    if (data.hits.length === 0) {\n      iziToast.error({ message: \"Sorry, there are no images matching your search query. Please try again!\" });\n      loader.style.display = 'none' // Loader'ı gizle\n      return; // Eğer sonuç yoksa hata mesajı göster ve işlemi durdur\n    }\n\n    displayImages(data.hits) // Eğer sonuç varsa görselleri göster\n  } catch (error) {\n    iziToast.error({ message: \"Görseller alınırken bir hata oluştu. Lütfen tekrar deneyin.\" });\n    console.error(\"API Hatası:\", error);\n  } finally {\n    loader.style.display = 'none' // İş tamamlandığında loader'ı gizle\n  }\n}\n\n// Görselleri sayfada gösterme işlemi\nfunction displayImages(images) {\n  gallery.innerHTML = '' // Galeriyi temizle\n\n  const galleryItems = images.map(image => {\n    return `\n      <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n        <div class=\"image-card\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\" />\n          <div class=\"image-info\">\n            <p><strong>Beğeniler:</strong> ${image.likes}</p>\n            <p><strong>Görüntüleme:</strong> ${image.views}</p>\n            <p><strong>Yorumlar:</strong> ${image.comments}</p>\n            <p><strong>İndirmeler:</strong> ${image.downloads}</p>\n          </div>\n        </div>\n      </a>\n    `;\n  }).join('')\n\n  gallery.innerHTML = galleryItems; // Yeni sonuçları DOM'a ekle\n\n  lightbox.refresh() // SimpleLightbox'ı güncelle ve yeni öğeleri tanı\n}\n\n// Modal penceresini kapatmak için X işaretine tıklama\ncloseModal.onclick = function() {\n  modal.style.display = 'none'\n}\n\n// Modal dışına tıklayınca kapatma\nwindow.onclick = function(event) {\n  if (event.target === modal) {\n    modal.style.display = 'none'\n  }\n}\n"],"names":["API_KEY","BASE_URL","modal","modalImg","closeModal","loader","gallery","lightbox","SimpleLightbox","event","query","fetchImages","iziToast","url","response","data","displayImages","error","images","galleryItems","image"],"mappings":"iyBAMA,MAAMA,EAAU,qCACVC,EAAW,2BAGXC,EAAQ,SAAS,eAAe,aAAa,EAC7CC,EAAW,SAAS,eAAe,WAAW,EAC9CC,EAAa,SAAS,uBAAuB,OAAO,EAAE,CAAC,EACvDC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAU,SAAS,eAAe,SAAS,EAGjD,IAAIC,EAAW,IAAIC,EAAe,eAAe,GAG7C,CAACN,GAAS,CAACC,GAAY,CAACC,GAAc,CAACC,IACzC,QAAQ,MAAM,0EAA0E,EAI1F,SAAS,eAAe,aAAa,EAAE,iBAAiB,SAAU,SAAUI,EAAO,CACjFA,EAAM,eAAc,EACpB,MAAMC,EAAQ,SAAS,eAAe,OAAO,EAAE,MAAM,KAAM,EAEvDA,EACFC,EAAYD,CAAK,EAEjBE,EAAS,MAAM,CAAE,QAAS,gCAAgC,CAAE,CAEhE,CAAC,EAGD,eAAeD,EAAYD,EAAO,CAChC,MAAMG,EAAM,GAAGZ,CAAQ,QAAQD,CAAO,MAAM,mBAAmBU,CAAK,CAAC,2DAErEL,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMS,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,8BAA8BA,EAAS,MAAM,EAAE,EAGjE,MAAMC,EAAO,MAAMD,EAAS,KAAM,EAClC,GAAIC,EAAK,KAAK,SAAW,EAAG,CAC1BH,EAAS,MAAM,CAAE,QAAS,0EAA4E,CAAA,EACtGP,EAAO,MAAM,QAAU,OACvB,MACD,CAEDW,EAAcD,EAAK,IAAI,CACxB,OAAQE,EAAO,CACdL,EAAS,MAAM,CAAE,QAAS,6DAA+D,CAAA,EACzF,QAAQ,MAAM,cAAeK,CAAK,CACtC,QAAY,CACRZ,EAAO,MAAM,QAAU,MACxB,CACH,CAGA,SAASW,EAAcE,EAAQ,CAC7BZ,EAAQ,UAAY,GAEpB,MAAMa,EAAeD,EAAO,IAAIE,GACvB;AAAA,iBACMA,EAAM,aAAa;AAAA;AAAA,sBAEdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,6CAEfA,EAAM,KAAK;AAAA,+CACTA,EAAM,KAAK;AAAA,4CACdA,EAAM,QAAQ;AAAA,8CACZA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAK1D,EAAE,KAAK,EAAE,EAEVd,EAAQ,UAAYa,EAEpBZ,EAAS,QAAS,CACpB,CAGAH,EAAW,QAAU,UAAW,CAC9BF,EAAM,MAAM,QAAU,MACxB,EAGA,OAAO,QAAU,SAASO,EAAO,CAC3BA,EAAM,SAAWP,IACnBA,EAAM,MAAM,QAAU,OAE1B"}